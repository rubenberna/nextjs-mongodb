{"version":3,"file":"static/webpack/static/development/pages/[...slug].js.f281c9d699ae549e2278.hot-update.js","sources":["webpack:///./components/table/index.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\nimport Link from 'next/link'\nimport axios from 'axios'\nimport { Table } from 'react-bootstrap'\n\nconst SeoTable = ({slug}) => {\n  // useEffect(() => fetchTableContent(slug), [slug])\n  const [tableList, setTableList] = useState([])\n\n  useEffect(() => {\n    const params = slug.split('/')\n    const category = params[1]\n    async function fetchTableContent(slug) {\n      const tableContent = await axios.get('http://localhost:3000/api/content')\n      const { data } = tableContent\n      const filteredList = data.filter(t => t.Breadcrumb1 === category)\n      const shortList = filteredList.splice(0, 200).sort()\n      setTableList(shortList)\n    }\n    fetchTableContent(slug), [slug, tableList]\n  })\n\n  const renderTable = () => {\n    return (\n      <Table striped bordered hover responsive>\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>URL</th>\n            <th>1st Category</th>\n            <th>City</th>\n          </tr>\n        </thead>\n        { renderTableBody() }\n      </Table>\n    )\n  }\n\n  const renderLastCategory = (item) => {\n    let lastCategory = item.Breadcrumb3category ? item.Breadcrumb3category : (item.Breadcrumb2category ? item.Breadcrumb2category : item.Breadcrumb1category)\n\n    let proper = lastCategory.replace(/-/g, \" \")\n      .charAt(0)\n      .toUpperCase() +\n      lastCategory.replace(/-/g, \" \").slice(1)\n    return proper\n  }\n\n  const renderTableBody = () => {\n    return tableList.map((t, i) => {\n      return (\n        <a key={i} href={`/${slug}`}>\n          <tbody>\n            <tr>\n              <th>{i}</th>\n              <th>{t.URL}</th>\n              <th>{renderLastCategory(t)}</th>\n              <th>{t.CityPostalcode}</th>\n            </tr>\n          </tbody>\n        </a>\n      )}\n    )\n  }\n\n  return renderTable()\n}\n\nexport default SeoTable\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AADA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAEA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}